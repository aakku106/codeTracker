<!-- @format -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Work Log Input</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}" />
    <link
      rel="preload"
      href="{{ url_for('static', filename='style.css') }}"
      as="style" />
    <link rel="dns-prefetch" href="https://www.adarashagaihre.com.np" />
    <meta name="description" content="Work Log Input and Management System" />
    <meta
      name="theme-color"
      content="#ffffff"
      media="(prefers-color-scheme: light)" />
    <meta
      name="theme-color"
      content="#1f2937"
      media="(prefers-color-scheme: dark)" />
  </head>

  <body>
    <button
      id="theme-toggle"
      class="theme-toggle"
      aria-label="Toggle dark mode"
      role="switch"
      aria-checked="false">
      <svg
        class="sun-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2">
        <circle cx="12" cy="12" r="5" />
        <line x1="12" y1="1" x2="12" y2="3" />
        <line x1="12" y1="21" x2="12" y2="23" />
        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
        <line x1="1" y1="12" x2="3" y2="12" />
        <line x1="21" y1="12" x2="23" y2="12" />
        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
      </svg>
      <svg
        class="moon-icon"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2">
        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
      </svg>
    </button>
    <a
      href="https://www.adarashagaihre.com.np/"
      class="portfolio-link"
      target="_blank"
      rel="noopener noreferrer">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round">
        <circle cx="12" cy="12" r="10" />
        <path
          d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z" />
        <path d="M2 12h20" />
      </svg>
      Visit Portfolio
    </a>
    <div class="container">
      <h1>Work Log Input</h1>

      {% if message %}
      <div class="message">{{ message }}</div>
      {% endif %}

      <form method="POST" action="/submit" class="input-form">
        <input
          type="text"
          name="logic"
          placeholder="Enter your logic/function"
          required />
        <input
          type="password"
          name="password"
          placeholder="Enter password"
          required />
        <button type="submit">Submit</button>
      </form>

      <div class="nav-links">
        <a href="/logs" class="view-logs-btn">View Logs</a>
      </div>
    </div>

    <div class="about-section">
      <div class="about-preview">
        <h2>About This Project üöÄ</h2>
        <div class="scroll-indicator">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2">
            <path d="M7 13l5 5 5-5" />
          </svg>
        </div>
      </div>

      <div class="about-details">
        <div class="feature-grid">
          <div class="feature-item">
            <span>üîê</span>
            <p>Secure Authentication</p>
          </div>
          <div class="feature-item">
            <span>üìù</span>
            <p>Easy Logging</p>
          </div>
          <div class="feature-item">
            <span>üåì</span>
            <p>Dark/Light Mode</p>
          </div>
          <div class="feature-item">
            <span>üîÑ</span>
            <p>GitHub Auto-sync</p>
          </div>
        </div>

        <div class="tech-stack">
          <h3>Built With:</h3>
          <div class="tech-tags">
            <span class="tech-tag">Python</span>
            <span class="tech-tag">Flask</span>
            <span class="tech-tag">Git</span>
            <span class="tech-tag">CSV</span>
          </div>
        </div>

        <div class="project-links">
          <a
            href="https://github.com/aakku106/codeTracker"
            class="github-link"
            target="_blank"
            rel="noopener noreferrer">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2">
              <path
                d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
            </svg>
            View Source
          </a>
          <a
            href="https://www.adarashagaihre.com.np/codeTrackerDocumentation/"
            class="portfolio-details-link"
            target="_blank"
            rel="noopener noreferrer">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2">
              <path
                d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
            </svg>
            Documentation
          </a>
        </div>
      </div>
    </div>

    <script>
      const themeToggle = document.getElementById("theme-toggle");

      // Check for saved theme preference, otherwise use system preference
      const getPreferredTheme = () => {
        const savedTheme = localStorage.getItem("theme");
        if (savedTheme) return savedTheme;

        return window.matchMedia("(prefers-color-scheme: dark)").matches
          ? "dark"
          : "light";
      };

      // Set theme
      const setTheme = (theme) => {
        document.documentElement.setAttribute("data-theme", theme);
        localStorage.setItem("theme", theme);
      };

      // Initial theme setup
      setTheme(getPreferredTheme());

      // Toggle theme
      themeToggle.addEventListener("click", () => {
        const currentTheme =
          document.documentElement.getAttribute("data-theme");
        const newTheme = currentTheme === "light" ? "dark" : "light";
        setTheme(newTheme);
      });

      document.addEventListener("DOMContentLoaded", function () {
        const aboutDetails = document.querySelector(".about-details");

        function checkScroll() {
          const triggerBottom = window.innerHeight * 0.8;
          const blockTop = aboutDetails.getBoundingClientRect().top;

          if (blockTop < triggerBottom) {
            aboutDetails.classList.add("visible");
          }
        }

        window.addEventListener("scroll", checkScroll);
        checkScroll(); // Check on initial load
      });
    </script>
  </body>
</html>
